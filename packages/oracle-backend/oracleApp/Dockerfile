FROM node:10.5

ARG CONFIG
ARG PORT
ARG TEST_SOURCE_HOST
ARG ORACLE_HOST
ARG GAS

ENV TEST_SOURCE_HOST=$TEST_SOURCE_HOST
ENV ORACLE_HOST=$ORACLE_HOST
ENV ORACLE_PORT=$PORT
ENV GAS=$GAS

WORKDIR /usr/src/app

COPY oracleApp .
COPY $CONFIG .

RUN npm install

EXPOSE 3000
CMD [ "node", "./bin/www" ]